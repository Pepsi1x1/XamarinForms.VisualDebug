<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        .node {
            cursor: default;
        }

            .node text {
                font: 12px sans-serif;
                fill: #FFFFFF;
            }

            .node rect {
            }

        /* Lines */
        .link {
            fill: none;
            stroke: #424242;
            stroke-width: 1.5px;
        }

        #body {
            cursor: move;
            height: 700px;
            width: 100%;
            background-color: #fff;
            border: 1px solid black;
            margin: 0px 0px 10px 0px;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script language="javascript" type="text/javascript">

var orgChart = (function() {
   var _margin = {
       top:    20,
       right:  20,
       bottom: 20,
       left:   20
   },
   _root           = {},
   _nodes          = [],
   _counter        = 0,
   _svgroot        = null,
   _svg            = null,
   _tree           = null,
   _diagonal       = null,
   _lineFunction   = null,
   _loadFunction   = null,
   /* Configuration */
   _duration       = 750,        /* Duration of the animations */
   _rectW          = 150,        /* Width of the rectangle */
   _rectH          = 120,         /* Height of the rectangle */
   _rectSpacing    = 40          /* Spacing between the rectangles */
   _fixedDepth     = 200,         /* Height of the line for child nodes */
   _mode           = "line",     /* Choose the values "line" or "diagonal" */
   _callerNode     = null,
   _callerMode     = 0,

   defLinearGradient = function(id, x1, y1, x2, y2, stopsdata) {
      var gradient = _svgroot.append("svg:defs")
                     .append("svg:linearGradient")
                       .attr("id", id)
                       .attr("x1", x1)
                       .attr("y1", y1)
                       .attr("x2", x2)
                       .attr("y2", y2)
                       .attr("spreadMethod", "pad");

      $.each(stopsdata, function(index, value) {
         gradient.append("svg:stop")
                 .attr("offset", value.offset)
                 .attr("stop-color", value.color)
                 .attr("stop-opacity", value.opacity);
      });
   },

   defBoxShadow = function(id) {
      var filter = _svgroot.append("svg:defs")
                      .append("svg:filter")
                      .attr("id", id).attr("height", "150%").attr("width", "150%");

      filter.append("svg:feOffset")
            .attr("dx", "2").attr("dy", "2").attr("result", "offOut");  // how much to offset
      filter.append("svg:feGaussianBlur")
            .attr("in", "offOut").attr("result", "blurOut").attr("stdDeviation", "2");     // stdDeviation is how much to blur
      filter.append("svg:feBlend")
            .attr("in", "SourceGraphic").attr("in2", "blurOut").attr("mode", "normal");
   },

   collapse = function(d) {
       if (d.children) {
           d._children = d.children;
           d._children.forEach(collapse);
           d.children = null;
       }
   },

   update = function(source) {
      // Compute the new tree layout.
      _nodes = _tree.nodes(_root).reverse();
      var links = _tree.links(_nodes);

      // Normalize for fixed-depth.
      _nodes.forEach(function (d) {
         d.y = d.depth * _fixedDepth;
      });

      // Update the nodes
      var node = _svg.selectAll("g.node")
          .data(_nodes, function (d) {
          return d.id || (d.id = ++_counter);
      });

      // Enter any new nodes at the parent's previous position.
      var nodeEnter = node.enter().append("g")
          .attr("class", "node")
          .attr("transform", function (d) {
          return "translate(" + source.x0 + "," + source.y0 + ")";
      })
      .on("click", nodeclick);

      nodeEnter.append("rect")
               .attr("width", _rectW)
               .attr("height", _rectH)
               .attr("fill", "#898989")
               .attr("filter", "url(#boxShadow)");

      nodeEnter.append("rect")
               .attr("width", _rectW)
               .attr("height", _rectH)
               .attr("id", function(d) {
                   return d.id;
               })
               .attr("fill", function (d) { return (d.children || d._children || d.hasChild) ? "url(#gradientchilds)" : "url(#gradientnochilds)"; })
               .style("cursor", function (d) { return (d.children || d._children || d.hasChild) ? "pointer" : "default"; })
               .attr("class", "box");

	   nodeEnter.append("text")
		   .attr("x", _rectW / 2)
		   .attr("y", 5)
		   .attr("dy", "12px")
		   .attr("text-anchor", "middle")
		   .style("cursor", function (d) { return (d.children || d._children || d.hasChild) ? "pointer" : "default"; })
		   .text(function (d) {
			   return d.VisualTypeName;
		   });

	   nodeEnter.append("text")
		  .attr("x", 5)
		  .attr("y", 20)
		   .attr("dy", "12px")
		  .attr("text-anchor", "left")
		  .style("cursor", function (d) { return (d.children || d._children || d.hasChild) ? "pointer" : "default"; })
		  .text(function (d) {
			  return "WidthRequest: \r\n" + d.WidthRequest;
		  });

	   nodeEnter.append("text")
		   .attr("x", 5)
		   .attr("y", 34)
		   .attr("dy", "12px")
		   .attr("text-anchor", "left")
		   .style("cursor", function (d) { return (d.children || d._children || d.hasChild) ? "pointer" : "default"; })
		   .text(function (d) {
			   return "HeightRequest:" + d.HeightRequest;
		   });

	   nodeEnter.append("text")
		   .attr("x", 5)
		   .attr("y", 48)
		   .attr("dy", "12px")
		   .attr("text-anchor", "left")
		   .style("cursor", function (d) { return (d.children || d._children || d.hasChild) ? "pointer" : "default"; })
		   .text(function (d) {
			   return "X:" + d.Bounds.X;
		   });

	   nodeEnter.append("text")
		   .attr("x", 5)
		   .attr("y", 62)
		   .attr("dy", "12px")
		   .attr("text-anchor", "left")
		   .style("cursor", function (d) { return (d.children || d._children || d.hasChild) ? "pointer" : "default"; })
		   .text(function (d) {
			   return "Y:" + d.Bounds.Y;
		   });

	   nodeEnter.append("text")
		   .attr("x", 5)
		   .attr("y", 76)
		   .attr("dy", "12px")
		   .attr("text-anchor", "left")
		   .style("cursor", function (d) { return (d.children || d._children || d.hasChild) ? "pointer" : "default"; })
		   .text(function (d) {
			   return "Width:" + d.Bounds.Width;
		   });

	   nodeEnter.append("text")
		   .attr("x", 5)
		   .attr("y", 90)
		   .attr("dy", "12px")
		   .attr("text-anchor", "left")
		   .style("cursor", function (d) { return (d.children || d._children || d.hasChild) ? "pointer" : "default"; })
		   .text(function (d) {
			   return "Height:" + d.Bounds.Height;
		   });

      // Transition nodes to their new position.
      var nodeUpdate = node.transition()
                           .duration(_duration)
                           .attr("transform", function (d) {
                                return "translate(" + d.x + "," + d.y + ")";
                           });

      nodeUpdate.select("rect.box")
                .attr("fill", function (d) {
                    return (d.children || d._children || d.hasChild) ? "url(#gradientchilds)" : "url(#gradientnochilds)";
                });

      // Transition exiting nodes to the parent's new position.
      var nodeExit = node.exit().transition()
                         .duration(_duration)
                         .attr("transform", function (d) {
                             return "translate(" + source.x + "," + source.y + ")";
                         })
                         .remove();

      // Update the links
      var link = _svg.selectAll("path.link")
                    .data(links, function (d) {
                          return d.target.id;
                    });


      if (_mode === "line") {
         // Enter any new links at the parent's previous position.
         link.enter().append("path" , "g")
             .attr("class", "link")
             .attr("d", function(d) {
                           var u_line = (function (d) {
                              var u_linedata = [{"x": d.source.x0 + parseInt(_rectW / 2), "y": d.source.y0 + _rectH + 2 },
                                                {"x": d.source.x0 + parseInt(_rectW / 2), "y": d.source.y0 + _rectH + 2 },
                                                {"x": d.source.x0 + parseInt(_rectW / 2), "y": d.source.y0 + _rectH + 2 },
                                                {"x": d.source.x0 + parseInt(_rectW / 2), "y": d.source.y0 + _rectH + 2 }];

                              return u_linedata;
                           })(d);

                           return _lineFunction(u_line);
                        });

         // Transition links to their new position.
         link.transition()
            .duration(_duration)
            .attr("d", function(d) {
                        var u_line = (function (d) {
                           var u_linedata = [{"x": d.source.x + parseInt(_rectW / 2), "y": d.source.y + _rectH },
                                             {"x": d.source.x + parseInt(_rectW / 2), "y": d.target.y - _margin.top / 2 },
                                             {"x": d.target.x + parseInt(_rectW / 2), "y": d.target.y - _margin.top / 2 },
                                             {"x": d.target.x + parseInt(_rectW / 2), "y": d.target.y }];

                           return u_linedata;
                        })(d);

                        return _lineFunction(u_line);
                     });

         // Transition exiting nodes to the parent's new position.
         link.exit().transition()
             .duration(_duration)
             .attr("d", function(d) {
                             /* This is needed to draw the lines right back to the caller */
                             var u_line = (function (d) {
                                var u_linedata = [{"x": _callerNode.x + parseInt(_rectW / 2), "y": _callerNode.y + _rectH + 2 },
                                                  {"x": _callerNode.x + parseInt(_rectW / 2), "y": _callerNode.y + _rectH + 2 },
                                                  {"x": _callerNode.x + parseInt(_rectW / 2), "y": _callerNode.y + _rectH + 2 },
                                                  {"x": _callerNode.x + parseInt(_rectW / 2), "y": _callerNode.y + _rectH + 2 }];

                                return u_linedata;
                             })(d);

                             return _lineFunction(u_line);
                        }).each("end", function() { _callerNode = null; /* After transition clear the caller node variable */ });
      } else if (_mode === "diagonal") {
         // Enter any new links at the parent's previous position.
         link.enter().insert("path" , "g")
             .attr("class", "link")
             .attr("x", _rectW / 2)
             .attr("y", _rectH / 2)
             .attr("d", function (d) {
                var o = {
                   x: source.x0,
                   y: source.y0
                };
                return _diagonal({
                      source: o,
                      target: o
                });
             });

         // Transition links to their new position.
         link.transition()
             .duration(_duration)
             .attr("d", _diagonal);

         // Transition exiting nodes to the parent's new position.
         link.exit().transition()
             .duration(_duration)
             .attr("d", function (d) {
                 var o = {
                     x: source.x,
                     y: source.y
                 };
                 return _diagonal({
                     source: o,
                     target: o
                 });
             })
             .remove();
      }

      // Stash the old positions for transition.
      _nodes.forEach(function (d) {
          d.x0 = d.x;
          d.y0 = d.y;
      });
   },

   // Toggle children on click.
   nodeclick = function(d) {
      if (!d.children && !d._children && d.hasChild) {
         // If there are no childs --> Try to load child nodes
         _loadFunction(d, function(childs) {
            var response = {id: d.id,
                            desc: d.desc,
                            children: childs.result};

            response.children.forEach(function(child){
               if (!_tree.nodes(d)[0]._children){
                   _tree.nodes(d)[0]._children = [];
               }

               child.x  = d.x;
               child.y  = d.y;
               child.x0 = d.x0;
               child.y0 = d.y0;
               _tree.nodes(d)[0]._children.push(child);
            });

            if (d.children) {
               _callerNode = d;
               _callerMode = 0;     // Collapse
               d._children = d.children;
               d.children = null;
            } else {
               _callerNode = null;
               _callerMode = 1;     // Expand
               d.children = d._children;
               d._children = null;
            }

            update(d);
         });
      } else {
         if (d.children) {
            _callerNode = d;
             _callerMode = 0;     // Collapse
             d._children = d.children;
             d.children = null;
         } else {
            _callerNode = d;
            _callerMode = 1;     // Expand
             d.children = d._children;
             d._children = null;
         }

         update(d);
      }
   },

   //Redraw for zoom
   redraw = function() {
     _svg.attr("transform", "translate(" + d3.event.translate + ")" +
                            " scale(" + d3.event.scale.toFixed(1) + ")");
   },

   initTree = function(options) {
      var u_opts = $.extend({id: "",
                             data: {},
                             modus: "line",
                             loadFunc: function() {}
                            },
                            options),
      id = u_opts.id;

      _loadFunction = u_opts.loadFunc;
      _mode = u_opts.modus;
      _root = u_opts.data;

      if(_mode == "line") {
		  _fixedDepth = Math.max(80, _fixedDepth);
      } else {
		  _fixedDepth = Math.max(110, _fixedDepth);
      }

      $(id).html("");   // Reset
      var width  = $(id).innerWidth()  - _margin.left - _margin.right,
          height = $(id).innerHeight() - _margin.top  - _margin.bottom;

      _tree = d3.layout.tree().nodeSize([_rectW + _rectSpacing, _rectH + _rectSpacing]);

      /* Basic Setup for the diagonal function. _mode = "diagonal" */
      _diagonal = d3.svg.diagonal()
          .projection(function (d) {
          return [d.x + _rectW / 2, d.y + _rectH / 2];
      });

      /* Basic setup for the line function. _mode = "line" */
      _lineFunction = d3.svg.line()
                           .x(function(d) { return d.x; })
                           .y(function(d) { return d.y; })
                           .interpolate("linear");

      var u_childwidth = parseInt((_root.children.length * _rectW) / 2);

      _svgroot = d3.select(id).append("svg").attr("width", width).attr("height", height)
                   .call(zm = d3.behavior.zoom().scaleExtent([0.15,3]).on("zoom", redraw));

      _svg = _svgroot.append("g")
                     .attr("transform", "translate(" + parseInt(u_childwidth + ((width - u_childwidth * 2) / 2) - _margin.left / 2) + "," + 20 + ")");

      var u_stops = [{offset: "0%", color: "#03A9F4", opacity: 1}, {offset: "100%", color: "#0288D1", opacity: 1}];
      defLinearGradient("gradientnochilds", "0%", "0%", "0%" ,"100%", u_stops);
      var u_stops = [{offset: "0%", color: "#8BC34A", opacity: 1}, {offset: "100%", color: "#689F38", opacity: 1}];
      defLinearGradient("gradientchilds", "0%", "0%", "0%" ,"100%", u_stops);

      defBoxShadow("boxShadow");

      //necessary so that zoom knows where to zoom and unzoom from
      zm.translate([parseInt(u_childwidth + ((width - u_childwidth * 2) / 2) - _margin.left / 2), 20]);

      _root.x0 = 0;           // the root is already centered
      _root.y0 = height / 2;  // draw & animate from center

      //_root.children.forEach(collapse);
      update(_root);

      d3.select(id).style("height", height + _margin.top + _margin.bottom);
   };

   return { initTree: initTree};
})();

    </script>
</head>

<body>

    <div id="body"></div>

    <button onclick='orgChart.initTree({id: "#body", data: u_data, modus: "line", loadFunc: loadChilds});'>Classic OrgChart</button>
    <button onclick='orgChart.initTree({id: "#body", data: u_data, modus: "diagonal", loadFunc: loadChilds});'>Modern OrgChart</button>

    <script language="javascript" type="text/javascript">
        var u_data = {};
		var treeData =
		{
			"VisualTypeName": "Grid",
			"ElementId": "9e5e5e28-1ddf-461d-a032-845025aa8e1e",
			"ParentVisualTypeName": "StackLayout",
			"ParentId": "e9857e8b-bf2f-4931-8cf6-00fc4a7dd049",
			"WidthRequest": -1.0,
			"HeightRequest": -1.0,
			"Bounds": {
				"X": 0.0,
				"Y": 0.0,
				"Width": -1.0,
				"Height": -1.0
			},
			"children": [{
				"VisualTypeName": "TextBlock",
				"ElementId": "078584d1-b190-41b3-88b3-a5d42d018759",
				"ParentVisualTypeName": "Grid",
				"ParentId": "9d04e7f3-4766-47c1-b36d-fc270e8d0dce",
				"WidthRequest": -1.0,
				"HeightRequest": -1.0,
				"Bounds": {
					"X": 0.0,
					"Y": 0.0,
					"Width": -1.0,
					"Height": -1.0
				},
			}, {
				"VisualTypeName": "Grid",
				"ElementId": "ffadcd9c-66eb-4389-bf94-e8588ea14ab6",
				"ParentVisualTypeName": "Grid",
				"ParentId": "9d04e7f3-4766-47c1-b36d-fc270e8d0dce",
				"WidthRequest": -1.0,
				"HeightRequest": 8.0,
				"Bounds": {
					"X": 0.0,
					"Y": 0.0,
					"Width": -1.0,
					"Height": -1.0
				},
			}, {
				"VisualTypeName": "Frame",
				"ElementId": "1f2e1f11-e9f3-44de-9754-7947fa7f4a57",
				"ParentVisualTypeName": "Grid",
				"ParentId": "9d04e7f3-4766-47c1-b36d-fc270e8d0dce",
				"WidthRequest": -1.0,
				"HeightRequest": -1.0,
				"Bounds": {
					"X": 0.0,
					"Y": 0.0,
					"Width": -1.0,
					"Height": -1.0
				},
				"children": [{
					"VisualTypeName": "Grid",
					"ElementId": "a748f8cb-b539-492f-855c-67a00d825e84",
					"ParentVisualTypeName": "Frame",
					"ParentId": "1f2e1f11-e9f3-44de-9754-7947fa7f4a57",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},
					"children": [{
						"VisualTypeName": "Frame",
						"ElementId": "0e0a471d-b868-4753-b83f-c59b3c897f22",
						"ParentVisualTypeName": "Grid",
						"ParentId": "a748f8cb-b539-492f-855c-67a00d825e84",
						"WidthRequest": -1.0,
						"HeightRequest": -1.0,
						"Bounds": {
							"X": 0.0,
							"Y": 0.0,
							"Width": -1.0,
							"Height": -1.0
						},
						"children": [{
							"VisualTypeName": "Grid",
							"ElementId": "21bc6d7b-da28-4126-815e-b0872c17201b",
							"ParentVisualTypeName": "Frame",
							"ParentId": "0e0a471d-b868-4753-b83f-c59b3c897f22",
							"WidthRequest": -1.0,
							"HeightRequest": -1.0,
							"Bounds": {
								"X": 0.0,
								"Y": 0.0,
								"Width": -1.0,
								"Height": -1.0
							},
							"children": [{
								"VisualTypeName": "Image",
								"ElementId": "010fd1dc-df48-4da7-9dbe-44482d4b6ab9",
								"ParentVisualTypeName": "Grid",
								"ParentId": "21bc6d7b-da28-4126-815e-b0872c17201b",
								"WidthRequest": 40.0,
								"HeightRequest": 40.0,
								"Bounds": {
									"X": 0.0,
									"Y": 0.0,
									"Width": -1.0,
									"Height": -1.0
								},

							}]
						}]
					}, {
						"VisualTypeName": "BoxView",
						"ElementId": "3cebc3bf-e248-4693-8828-43e872f775b0",
						"ParentVisualTypeName": "Grid",
						"ParentId": "a748f8cb-b539-492f-855c-67a00d825e84",
						"WidthRequest": 1.0,
						"HeightRequest": -1.0,
						"Bounds": {
							"X": 0.0,
							"Y": 0.0,
							"Width": -1.0,
							"Height": -1.0
						},

					}, {
						"VisualTypeName": "Frame",
						"ElementId": "87874107-607e-4b34-92fe-30d3d633fe2d",
						"ParentVisualTypeName": "Grid",
						"ParentId": "a748f8cb-b539-492f-855c-67a00d825e84",
						"WidthRequest": -1.0,
						"HeightRequest": -1.0,
						"Bounds": {
							"X": 0.0,
							"Y": 0.0,
							"Width": -1.0,
							"Height": -1.0
						},
						"children": [{
							"VisualTypeName": "Grid",
							"ElementId": "47948fb5-673f-4a75-829a-7af681b15a4e",
							"ParentVisualTypeName": "Frame",
							"ParentId": "87874107-607e-4b34-92fe-30d3d633fe2d",
							"WidthRequest": -1.0,
							"HeightRequest": -1.0,
							"Bounds": {
								"X": 0.0,
								"Y": 0.0,
								"Width": -1.0,
								"Height": -1.0
							},
							"children": [{
								"VisualTypeName": "TextBlock",
								"ElementId": "57a97250-c575-4be0-a8b5-213905198004",
								"ParentVisualTypeName": "Grid",
								"ParentId": "47948fb5-673f-4a75-829a-7af681b15a4e",
								"WidthRequest": -1.0,
								"HeightRequest": -1.0,
								"Bounds": {
									"X": 0.0,
									"Y": 0.0,
									"Width": -1.0,
									"Height": -1.0
								},

							}, {
								"VisualTypeName": "TextBlock",
								"ElementId": "2fbb5219-7439-4d27-808a-fd40a1d7ca62",
								"ParentVisualTypeName": "Grid",
								"ParentId": "47948fb5-673f-4a75-829a-7af681b15a4e",
								"WidthRequest": -1.0,
								"HeightRequest": -1.0,
								"Bounds": {
									"X": 0.0,
									"Y": 0.0,
									"Width": -1.0,
									"Height": -1.0
								},

							}]
						}]
					}]
				}]
			}, {
				"VisualTypeName": "Grid",
				"ElementId": "d19c4492-2ecc-4682-8dcc-6c40d30bb638",
				"ParentVisualTypeName": "Grid",
				"ParentId": "9d04e7f3-4766-47c1-b36d-fc270e8d0dce",
				"WidthRequest": -1.0,
				"HeightRequest": 8.0,
				"Bounds": {
					"X": 0.0,
					"Y": 0.0,
					"Width": -1.0,
					"Height": -1.0
				},

			}, {
				"VisualTypeName": "TextBlock",
				"ElementId": "036fbcfa-bfb7-4b0c-bedf-36e1784ba9f1",
				"ParentVisualTypeName": "Grid",
				"ParentId": "9d04e7f3-4766-47c1-b36d-fc270e8d0dce",
				"WidthRequest": -1.0,
				"HeightRequest": -1.0,
				"Bounds": {
					"X": 0.0,
					"Y": 0.0,
					"Width": -1.0,
					"Height": -1.0
				},

			}, {
				"VisualTypeName": "Grid",
				"ElementId": "24e968c5-4f00-4fcd-93ed-785191a1bd6e",
				"ParentVisualTypeName": "Grid",
				"ParentId": "9d04e7f3-4766-47c1-b36d-fc270e8d0dce",
				"WidthRequest": -1.0,
				"HeightRequest": 8.0,
				"Bounds": {
					"X": 0.0,
					"Y": 0.0,
					"Width": -1.0,
					"Height": -1.0
				},

			}, {
				"VisualTypeName": "Grid",
				"ElementId": "6186e937-1c3a-44ed-aa80-aa4224786d73",
				"ParentVisualTypeName": "Grid",
				"ParentId": "9d04e7f3-4766-47c1-b36d-fc270e8d0dce",
				"WidthRequest": -1.0,
				"HeightRequest": -1.0,
				"Bounds": {
					"X": 0.0,
					"Y": 0.0,
					"Width": -1.0,
					"Height": -1.0
				},
				"children": [{
					"VisualTypeName": "TextBlock",
					"ElementId": "442ed5d5-ff7f-496c-8a69-dc0b2927bfe8",
					"ParentVisualTypeName": "Grid",
					"ParentId": "6186e937-1c3a-44ed-aa80-aa4224786d73",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},

				}, {
					"VisualTypeName": "TextBlock",
					"ElementId": "16419e9a-8d44-4b03-86f8-138d731d7d4e",
					"ParentVisualTypeName": "Grid",
					"ParentId": "6186e937-1c3a-44ed-aa80-aa4224786d73",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},

				}, {
					"VisualTypeName": "TextBlock",
					"ElementId": "352382c1-b312-433c-ab36-3b775bae3dd3",
					"ParentVisualTypeName": "Grid",
					"ParentId": "6186e937-1c3a-44ed-aa80-aa4224786d73",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},

				}, {
					"VisualTypeName": "TextBlock",
					"ElementId": "c12c44b5-383d-42f2-82be-255863ed1f2f",
					"ParentVisualTypeName": "Grid",
					"ParentId": "6186e937-1c3a-44ed-aa80-aa4224786d73",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},

				}, {
					"VisualTypeName": "TextBlock",
					"ElementId": "3b33667b-1b35-4562-a919-e8f02a5766f1",
					"ParentVisualTypeName": "Grid",
					"ParentId": "6186e937-1c3a-44ed-aa80-aa4224786d73",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},

				}, {
					"VisualTypeName": "TextBlock",
					"ElementId": "999e1fad-ecf1-4367-9abf-706e7fe63aeb",
					"ParentVisualTypeName": "Grid",
					"ParentId": "6186e937-1c3a-44ed-aa80-aa4224786d73",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},

				}, {
					"VisualTypeName": "TextBlock",
					"ElementId": "f9410bea-9519-48ac-a648-495d9a04418c",
					"ParentVisualTypeName": "Grid",
					"ParentId": "6186e937-1c3a-44ed-aa80-aa4224786d73",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},

				}, {
					"VisualTypeName": "TextBlock",
					"ElementId": "3e0c730e-bc9b-42ec-b4cd-589e9cf40a7c",
					"ParentVisualTypeName": "Grid",
					"ParentId": "6186e937-1c3a-44ed-aa80-aa4224786d73",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},

				}]
			}, {
				"VisualTypeName": "Grid",
				"ElementId": "7607a6d9-2aae-4e64-853d-5bb65292e57d",
				"ParentVisualTypeName": "Grid",
				"ParentId": "9d04e7f3-4766-47c1-b36d-fc270e8d0dce",
				"WidthRequest": -1.0,
				"HeightRequest": -1.0,
				"Bounds": {
					"X": 0.0,
					"Y": 0.0,
					"Width": -1.0,
					"Height": -1.0
				},
				"children": [{
					"VisualTypeName": "ContentButton",
					"ElementId": "d820498b-40c3-4e5e-a7f9-3c0c3bd504a3",
					"ParentVisualTypeName": "Grid",
					"ParentId": "7607a6d9-2aae-4e64-853d-5bb65292e57d",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},
					"children": [{
						"VisualTypeName": "StackLayout",
						"ElementId": "7649e45a-f3fd-429f-9253-c09af1b9de1f",
						"ParentVisualTypeName": "ContentButton",
						"ParentId": "d820498b-40c3-4e5e-a7f9-3c0c3bd504a3",
						"WidthRequest": -1.0,
						"HeightRequest": -1.0,
						"Bounds": {
							"X": 0.0,
							"Y": 0.0,
							"Width": -1.0,
							"Height": -1.0
						},
						"children": [{
							"VisualTypeName": "TextBlock",
							"ElementId": "c20cf9c1-0c4d-4897-9f9b-3a692a2731c5",
							"ParentVisualTypeName": "StackLayout",
							"ParentId": "7649e45a-f3fd-429f-9253-c09af1b9de1f",
							"WidthRequest": -1.0,
							"HeightRequest": -1.0,
							"Bounds": {
								"X": 0.0,
								"Y": 0.0,
								"Width": -1.0,
								"Height": -1.0
							},

						}]
					}]
				}, {
					"VisualTypeName": "ContentButton",
					"ElementId": "ccade4d7-394a-4720-a732-408e255b95cd",
					"ParentVisualTypeName": "Grid",
					"ParentId": "7607a6d9-2aae-4e64-853d-5bb65292e57d",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},
					"children": [{
						"VisualTypeName": "StackLayout",
						"ElementId": "6f6c93ce-4df3-412c-b050-a58987dd92e2",
						"ParentVisualTypeName": "ContentButton",
						"ParentId": "ccade4d7-394a-4720-a732-408e255b95cd",
						"WidthRequest": -1.0,
						"HeightRequest": -1.0,
						"Bounds": {
							"X": 0.0,
							"Y": 0.0,
							"Width": -1.0,
							"Height": -1.0
						},
						"children": [{
							"VisualTypeName": "TextBlock",
							"ElementId": "fee2d0df-28bb-4636-b1aa-a9e63e9be021",
							"ParentVisualTypeName": "StackLayout",
							"ParentId": "6f6c93ce-4df3-412c-b050-a58987dd92e2",
							"WidthRequest": -1.0,
							"HeightRequest": -1.0,
							"Bounds": {
								"X": 0.0,
								"Y": 0.0,
								"Width": -1.0,
								"Height": -1.0
							},

						}]
					}]
				}]
			}, {
				"VisualTypeName": "Grid",
				"ElementId": "32d61602-8add-4c31-8fd6-78187e7a4385",
				"ParentVisualTypeName": "Grid",
				"ParentId": "9d04e7f3-4766-47c1-b36d-fc270e8d0dce",
				"WidthRequest": -1.0,
				"HeightRequest": -1.0,
				"Bounds": {
					"X": 0.0,
					"Y": 0.0,
					"Width": -1.0,
					"Height": -1.0
				},
				"children": [{
					"VisualTypeName": "Grid",
					"ElementId": "cae10e67-cf8f-41be-b38d-ab52ff89d271",
					"ParentVisualTypeName": "Grid",
					"ParentId": "32d61602-8add-4c31-8fd6-78187e7a4385",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},
					"children": [{
						"VisualTypeName": "Grid",
						"ElementId": "64a73c64-e4b4-4ab7-a85c-1662fca0979a",
						"ParentVisualTypeName": "Grid",
						"ParentId": "cae10e67-cf8f-41be-b38d-ab52ff89d271",
						"WidthRequest": -1.0,
						"HeightRequest": -1.0,
						"Bounds": {
							"X": 0.0,
							"Y": 0.0,
							"Width": -1.0,
							"Height": -1.0
						},
						"children": [{
							"VisualTypeName": "TextBox",
							"ElementId": "c858d169-8ea9-481b-9b24-a28aaf0d3700",
							"ParentVisualTypeName": "Grid",
							"ParentId": "64a73c64-e4b4-4ab7-a85c-1662fca0979a",
							"WidthRequest": -1.0,
							"HeightRequest": -1.0,
							"Bounds": {
								"X": 0.0,
								"Y": 0.0,
								"Width": -1.0,
								"Height": -1.0
							},

						}, {
							"VisualTypeName": "Grid",
							"ElementId": "f3be21bb-c8db-4cd6-81a5-8e6adfb3d407",
							"ParentVisualTypeName": "Grid",
							"ParentId": "64a73c64-e4b4-4ab7-a85c-1662fca0979a",
							"WidthRequest": -1.0,
							"HeightRequest": -1.0,
							"Bounds": {
								"X": 0.0,
								"Y": 0.0,
								"Width": -1.0,
								"Height": -1.0
							},
							"children": [{
								"VisualTypeName": "ContentButton",
								"ElementId": "eed1d375-72e0-4a97-84eb-080fe6eb9038",
								"ParentVisualTypeName": "Grid",
								"ParentId": "f3be21bb-c8db-4cd6-81a5-8e6adfb3d407",
								"WidthRequest": -1.0,
								"HeightRequest": -1.0,
								"Bounds": {
									"X": 0.0,
									"Y": 0.0,
									"Width": -1.0,
									"Height": -1.0
								},
								"children": [{
									"VisualTypeName": "StackLayout",
									"ElementId": "e4e97728-e03f-4134-83ba-8d7002d81f8a",
									"ParentVisualTypeName": "ContentButton",
									"ParentId": "eed1d375-72e0-4a97-84eb-080fe6eb9038",
									"WidthRequest": -1.0,
									"HeightRequest": -1.0,
									"Bounds": {
										"X": 0.0,
										"Y": 0.0,
										"Width": -1.0,
										"Height": -1.0
									},
									"children": [{
										"VisualTypeName": "TextBlock",
										"ElementId": "65a88414-a130-48dd-a6af-c3ab9599d43e",
										"ParentVisualTypeName": "StackLayout",
										"ParentId": "e4e97728-e03f-4134-83ba-8d7002d81f8a",
										"WidthRequest": -1.0,
										"HeightRequest": -1.0,
										"Bounds": {
											"X": 0.0,
											"Y": 0.0,
											"Width": -1.0,
											"Height": -1.0
										},

									}]
								}]
							}]
						}]
					}]
				}]
			}, {
				"VisualTypeName": "Grid",
				"ElementId": "02575f0f-98b6-475d-80ac-b53add121b82",
				"ParentVisualTypeName": "Grid",
				"ParentId": "9d04e7f3-4766-47c1-b36d-fc270e8d0dce",
				"WidthRequest": -1.0,
				"HeightRequest": -1.0,
				"Bounds": {
					"X": 0.0,
					"Y": 0.0,
					"Width": -1.0,
					"Height": -1.0
				},
				"children": [{
					"VisualTypeName": "Grid",
					"ElementId": "96383237-f5c2-42a3-bc8a-c72a051e2abc",
					"ParentVisualTypeName": "Grid",
					"ParentId": "02575f0f-98b6-475d-80ac-b53add121b82",
					"WidthRequest": -1.0,
					"HeightRequest": -1.0,
					"Bounds": {
						"X": 0.0,
						"Y": 0.0,
						"Width": -1.0,
						"Height": -1.0
					},
					"children": [{
						"VisualTypeName": "Grid",
						"ElementId": "1137a67a-9548-4605-ad75-1bca50f0e3f4",
						"ParentVisualTypeName": "Grid",
						"ParentId": "96383237-f5c2-42a3-bc8a-c72a051e2abc",
						"WidthRequest": -1.0,
						"HeightRequest": -1.0,
						"Bounds": {
							"X": 0.0,
							"Y": 0.0,
							"Width": -1.0,
							"Height": -1.0
						},
						"children": [{
							"VisualTypeName": "TextBox",
							"ElementId": "182a3e44-bcf8-44ce-be9b-0708c1f0ae8f",
							"ParentVisualTypeName": "Grid",
							"ParentId": "1137a67a-9548-4605-ad75-1bca50f0e3f4",
							"WidthRequest": -1.0,
							"HeightRequest": -1.0,
							"Bounds": {
								"X": 0.0,
								"Y": 0.0,
								"Width": -1.0,
								"Height": -1.0
							},

						}, {
							"VisualTypeName": "Grid",
							"ElementId": "885c46a9-41e9-4c2d-8e4a-53674b87dfa5",
							"ParentVisualTypeName": "Grid",
							"ParentId": "1137a67a-9548-4605-ad75-1bca50f0e3f4",
							"WidthRequest": -1.0,
							"HeightRequest": -1.0,
							"Bounds": {
								"X": 0.0,
								"Y": 0.0,
								"Width": -1.0,
								"Height": -1.0
							},
							"children": [{
								"VisualTypeName": "ContentButton",
								"ElementId": "d4009021-5eaa-48b8-a616-13b276eb5028",
								"ParentVisualTypeName": "Grid",
								"ParentId": "885c46a9-41e9-4c2d-8e4a-53674b87dfa5",
								"WidthRequest": -1.0,
								"HeightRequest": -1.0,
								"Bounds": {
									"X": 0.0,
									"Y": 0.0,
									"Width": -1.0,
									"Height": -1.0
								},
								"children": [{
									"VisualTypeName": "StackLayout",
									"ElementId": "920bb8bb-91c5-4d00-ac9e-27ad2d789dd7",
									"ParentVisualTypeName": "ContentButton",
									"ParentId": "d4009021-5eaa-48b8-a616-13b276eb5028",
									"WidthRequest": -1.0,
									"HeightRequest": -1.0,
									"Bounds": {
										"X": 0.0,
										"Y": 0.0,
										"Width": -1.0,
										"Height": -1.0
									},
									"children": [{
										"VisualTypeName": "TextBlock",
										"ElementId": "6932f31d-938e-4e7e-b27b-d9689fdc2de7",
										"ParentVisualTypeName": "StackLayout",
										"ParentId": "920bb8bb-91c5-4d00-ac9e-27ad2d789dd7",
										"WidthRequest": -1.0,
										"HeightRequest": -1.0,
										"Bounds": {
											"X": 0.0,
											"Y": 0.0,
											"Width": -1.0,
											"Height": -1.0
										},

									}]
								}]
							}]
						}]
					}]
				}]
			}]
		};

function loadChilds(actualElement, successFunction) {
	successFunction(treeData);
}


             u_data = treeData;
             orgChart.initTree({id: "#body", data: treeData, modus: "diagonal", loadFunc: loadChilds});

    </script>

</body>
</html>